{"version":3,"sources":["../../../../../src/ui/Compose/hooks/menu/TranslateMenu.tsx"],"sourcesContent":["import locales from 'locale-codes'\r\nimport React, { useState } from 'react'\r\n\r\nimport { Item } from './Item.js'\r\nimport { Translate } from './items.js'\r\nimport styles from './menu.module.scss'\r\nimport { translateToCzech } from '../../../../utilities/translateToCzech.js'\r\n\r\nexport const TranslateMenu = ({ onClick }) => {\r\n  const [show, setShow] = useState(false)\r\n\r\n  const filteredLocales = locales.all.filter((a) => {\r\n    return a.tag && a.location\r\n  })\r\n\r\n  const [languages, setLanguages] = useState(filteredLocales)\r\n  const [inputFocus, setInputFocus] = useState(false)\r\n\r\n  return (\r\n    <div\r\n      className={styles.menu}\r\n      onMouseLeave={() => {\r\n        if (!inputFocus) {\r\n          setShow(false)\r\n        }\r\n      }}\r\n    >\r\n      <Translate\r\n        isActive={show}\r\n        isMenu\r\n        onClick={() => {\r\n          setShow(!show)\r\n        }}\r\n        onMouseEnter={() => setShow(true)}\r\n       />\r\n      <div className={styles.hoverMenu} data-show={show}>\r\n        <div className={`${styles.menu} ${styles.subMenu}`} style={{\r\n          background: \"var(--popup-bg)\",\r\n          minHeight: \"300px\"\r\n        }}>\r\n          <Item\r\n            onClick={() => {}}\r\n            style={{\r\n              background: 'transparent',\r\n              padding: '0 0 5px 0',\r\n              position: 'sticky',\r\n              top: 0,\r\n            }}\r\n          >\r\n            <input\r\n              className={styles.menuInput}\r\n              onBlur={() => setInputFocus(false)}\r\n              onChange={(event) => {\r\n                const value = event.target.value\r\n                setLanguages(\r\n                  filteredLocales.filter((l) => {\r\n                    const lowerCaseValue = value.toLowerCase()\r\n                    return (\r\n                      l.name.toLowerCase().startsWith(lowerCaseValue) ||\r\n                      l.location.toLowerCase().startsWith(lowerCaseValue) ||\r\n                      l.tag.toLowerCase().startsWith(lowerCaseValue) ||\r\n                      translateToCzech(l.name).toLowerCase().startsWith(lowerCaseValue) ||\r\n                      translateToCzech(l.location).toLowerCase().startsWith(lowerCaseValue)\r\n                    )\r\n                  }),\r\n                )\r\n              }}\r\n              onFocus={() => setInputFocus(true)}\r\n              placeholder={translateToCzech('Search...')}\r\n            />\r\n          </Item>\r\n          {languages.map((locale) => {\r\n            return (\r\n              <Item\r\n                key={locale.tag}\r\n                onClick={() => {\r\n                  onClick({ locale: locale.tag })\r\n                }}\r\n              >\r\n                <span className={styles.ellipsis}>{`${translateToCzech(locale.name)} (${locale.tag})`}</span>\r\n              </Item>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["locales","React","useState","Item","Translate","styles","translateToCzech","TranslateMenu","onClick","show","setShow","filteredLocales","all","filter","a","tag","location","languages","setLanguages","inputFocus","setInputFocus","div","className","menu","onMouseLeave","isActive","isMenu","onMouseEnter","hoverMenu","data-show","subMenu","style","background","minHeight","padding","position","top","input","menuInput","onBlur","onChange","event","value","target","l","lowerCaseValue","toLowerCase","name","startsWith","onFocus","placeholder","map","locale","span","ellipsis"],"mappings":";AAAA,OAAOA,aAAa,eAAc;AAClC,OAAOC,SAASC,QAAQ,QAAQ,QAAO;AAEvC,SAASC,IAAI,QAAQ,YAAW;AAChC,SAASC,SAAS,QAAQ,aAAY;AACtC,OAAOC,YAAY,qBAAoB;AACvC,SAASC,gBAAgB,QAAQ,4CAA2C;AAE5E,OAAO,MAAMC,gBAAgB,CAAC,EAAEC,OAAO,EAAE;IACvC,MAAM,CAACC,MAAMC,QAAQ,GAAGR,SAAS;IAEjC,MAAMS,kBAAkBX,QAAQY,GAAG,CAACC,MAAM,CAAC,CAACC;QAC1C,OAAOA,EAAEC,GAAG,IAAID,EAAEE,QAAQ;IAC5B;IAEA,MAAM,CAACC,WAAWC,aAAa,GAAGhB,SAASS;IAC3C,MAAM,CAACQ,YAAYC,cAAc,GAAGlB,SAAS;IAE7C,qBACE,MAACmB;QACCC,WAAWjB,OAAOkB,IAAI;QACtBC,cAAc;YACZ,IAAI,CAACL,YAAY;gBACfT,QAAQ;YACV;QACF;;0BAEA,KAACN;gBACCqB,UAAUhB;gBACViB,MAAM;gBACNlB,SAAS;oBACPE,QAAQ,CAACD;gBACX;gBACAkB,cAAc,IAAMjB,QAAQ;;0BAE9B,KAACW;gBAAIC,WAAWjB,OAAOuB,SAAS;gBAAEC,aAAWpB;0BAC3C,cAAA,MAACY;oBAAIC,WAAW,CAAC,EAAEjB,OAAOkB,IAAI,CAAC,CAAC,EAAElB,OAAOyB,OAAO,CAAC,CAAC;oBAAEC,OAAO;wBACzDC,YAAY;wBACZC,WAAW;oBACb;;sCACE,KAAC9B;4BACCK,SAAS,KAAO;4BAChBuB,OAAO;gCACLC,YAAY;gCACZE,SAAS;gCACTC,UAAU;gCACVC,KAAK;4BACP;sCAEA,cAAA,KAACC;gCACCf,WAAWjB,OAAOiC,SAAS;gCAC3BC,QAAQ,IAAMnB,cAAc;gCAC5BoB,UAAU,CAACC;oCACT,MAAMC,QAAQD,MAAME,MAAM,CAACD,KAAK;oCAChCxB,aACEP,gBAAgBE,MAAM,CAAC,CAAC+B;wCACtB,MAAMC,iBAAiBH,MAAMI,WAAW;wCACxC,OACEF,EAAEG,IAAI,CAACD,WAAW,GAAGE,UAAU,CAACH,mBAChCD,EAAE5B,QAAQ,CAAC8B,WAAW,GAAGE,UAAU,CAACH,mBACpCD,EAAE7B,GAAG,CAAC+B,WAAW,GAAGE,UAAU,CAACH,mBAC/BvC,iBAAiBsC,EAAEG,IAAI,EAAED,WAAW,GAAGE,UAAU,CAACH,mBAClDvC,iBAAiBsC,EAAE5B,QAAQ,EAAE8B,WAAW,GAAGE,UAAU,CAACH;oCAE1D;gCAEJ;gCACAI,SAAS,IAAM7B,cAAc;gCAC7B8B,aAAa5C,iBAAiB;;;wBAGjCW,UAAUkC,GAAG,CAAC,CAACC;4BACd,qBACE,KAACjD;gCAECK,SAAS;oCACPA,QAAQ;wCAAE4C,QAAQA,OAAOrC,GAAG;oCAAC;gCAC/B;0CAEA,cAAA,KAACsC;oCAAK/B,WAAWjB,OAAOiD,QAAQ;8CAAG,CAAC,EAAEhD,iBAAiB8C,OAAOL,IAAI,EAAE,EAAE,EAAEK,OAAOrC,GAAG,CAAC,CAAC,CAAC;;+BALhFqC,OAAOrC,GAAG;wBAQrB;;;;;;AAKV,EAAC"}