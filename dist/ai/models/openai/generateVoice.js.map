{"version":3,"sources":["../../../../src/ai/models/openai/generateVoice.ts"],"sourcesContent":["import type { SpeechCreateParams } from 'openai/resources/audio/speech'\r\n\r\nimport OpenAI from 'openai'\r\n\r\ntype OpenAITextToSpeechOptions = Exclude<SpeechCreateParams, 'input'>\r\n\r\nexport const generateVoice = async (text: string, options: OpenAITextToSpeechOptions) => {\r\n  const openai = new OpenAI()\r\n  const mp3 = await openai.audio.speech.create({\r\n    input: text,\r\n    model: options.model,\r\n    response_format: options.response_format,\r\n    speed: options.speed,\r\n    voice: options.voice,\r\n  })\r\n\r\n  if (mp3.ok) {\r\n    const audioBuffer = Buffer.from(await mp3.arrayBuffer())\r\n\r\n    return {\r\n      buffer: audioBuffer,\r\n    }\r\n  }\r\n}\r\n"],"names":["OpenAI","generateVoice","text","options","openai","mp3","audio","speech","create","input","model","response_format","speed","voice","ok","audioBuffer","Buffer","from","arrayBuffer","buffer"],"mappings":"AAEA,OAAOA,YAAY,SAAQ;AAI3B,OAAO,MAAMC,gBAAgB,OAAOC,MAAcC;IAChD,MAAMC,SAAS,IAAIJ;IACnB,MAAMK,MAAM,MAAMD,OAAOE,KAAK,CAACC,MAAM,CAACC,MAAM,CAAC;QAC3CC,OAAOP;QACPQ,OAAOP,QAAQO,KAAK;QACpBC,iBAAiBR,QAAQQ,eAAe;QACxCC,OAAOT,QAAQS,KAAK;QACpBC,OAAOV,QAAQU,KAAK;IACtB;IAEA,IAAIR,IAAIS,EAAE,EAAE;QACV,MAAMC,cAAcC,OAAOC,IAAI,CAAC,MAAMZ,IAAIa,WAAW;QAErD,OAAO;YACLC,QAAQJ;QACV;IACF;AACF,EAAC"}