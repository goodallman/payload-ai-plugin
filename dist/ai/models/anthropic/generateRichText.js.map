{"version":3,"sources":["../../../../src/ai/models/anthropic/generateRichText.ts"],"sourcesContent":["import { anthropic } from '@ai-sdk/anthropic'\r\nimport { jsonSchema, streamObject } from 'ai'\r\n\r\nimport { exampleOutput } from '../example.js'\r\n\r\nexport const generateRichText = async (text: string, options: any) => {\r\n  const streamResult = await streamObject({\r\n    model: anthropic(options.model),\r\n    prompt: text,\r\n    schema: jsonSchema(options.editorSchema),\r\n    system: `${options.system}\r\n\r\nRULES:\r\n- Generate original and unique content based on the given topic.\r\n- Strictly adhere to the specified layout and formatting instructions.\r\n- Utilize the provided rich text editor tools for appropriate formatting.\r\n- Ensure the output follows the structure of the sample output object.\r\n- Produce valid JSON with no undefined or null values.\r\n\r\nLAYOUT INSTRUCTIONS:\r\n${options.layout}\r\n\r\nRICH TEXT EDITOR TOOLS:\r\n- Use appropriate formatting tools such as bold, italic, or underline for emphasis where needed.\r\n- Apply correct heading levels (h1, h2, h3) for hierarchical structure.\r\n- Utilize bullet points or numbered lists as required by the layout.\r\n\r\nSAMPLE OUTPUT OBJECT:\r\n${JSON.stringify(exampleOutput)}\r\n\r\nADDITIONAL GUIDELINES:\r\n- Ensure coherence and logical flow between all sections.\r\n- Maintain a consistent tone and style throughout the content.\r\n- Use clear and concise language appropriate for the target audience.\r\n- Double-check that all JSON fields are properly filled and formatted.`,\r\n  })\r\n\r\n  return streamResult.toTextStreamResponse()\r\n}\r\n"],"names":["anthropic","jsonSchema","streamObject","exampleOutput","generateRichText","text","options","streamResult","model","prompt","schema","editorSchema","system","layout","JSON","stringify","toTextStreamResponse"],"mappings":"AAAA,SAASA,SAAS,QAAQ,oBAAmB;AAC7C,SAASC,UAAU,EAAEC,YAAY,QAAQ,KAAI;AAE7C,SAASC,aAAa,QAAQ,gBAAe;AAE7C,OAAO,MAAMC,mBAAmB,OAAOC,MAAcC;IACnD,MAAMC,eAAe,MAAML,aAAa;QACtCM,OAAOR,UAAUM,QAAQE,KAAK;QAC9BC,QAAQJ;QACRK,QAAQT,WAAWK,QAAQK,YAAY;QACvCC,QAAQ,CAAC,EAAEN,QAAQM,MAAM,CAAC;;;;;;;;;;AAU9B,EAAEN,QAAQO,MAAM,CAAC;;;;;;;;AAQjB,EAAEC,KAAKC,SAAS,CAACZ,eAAe;;;;;;sEAMsC,CAAC;IACrE;IAEA,OAAOI,aAAaS,oBAAoB;AAC1C,EAAC"}