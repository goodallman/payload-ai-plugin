{"version":3,"sources":["../../../src/fields/PromptEditorField/PromptEditorField.tsx"],"sourcesContent":["'use client'\r\n\r\nimport type { TextareaFieldClientProps } from 'payload'\r\n\r\nimport { FieldDescription, FieldLabel, useField } from '@payloadcms/ui'\r\nimport React from 'react'\r\n\r\nimport { AutocompleteTextField } from '../../libraries/autocomplete/AutocompleteTextArea.js'\r\nimport { useInstructions } from '../../providers/InstructionsProvider/useInstructions.js'\r\n\r\n//NOTE: HMR does not work for plugin components anymore, I think it has to do with importMap/ string path\r\nexport const PromptEditorField: React.FC<TextareaFieldClientProps> = (props) => {\r\n  const { field, path: pathFromContext } = props\r\n\r\n  const { setValue, value } = useField<string>({\r\n    path: pathFromContext,\r\n  })\r\n\r\n  const { promptEditorSuggestions } = useInstructions()\r\n\r\n  return (\r\n    <div className=\"field-type textarea\">\r\n      <FieldLabel label={field.label} />\r\n      <AutocompleteTextField\r\n        changeOnSelect={(trigger, selected) => {\r\n          return trigger + selected + ' }}'\r\n        }}\r\n        onChange={(val: string) => {\r\n          setValue(val)\r\n        }}\r\n        options={promptEditorSuggestions}\r\n        trigger={['{{ ']}\r\n        value={value}\r\n      />\r\n      <FieldDescription description={field?.admin?.description} path=\"\" />\r\n    </div>\r\n  )\r\n}\r\n"],"names":["FieldDescription","FieldLabel","useField","React","AutocompleteTextField","useInstructions","PromptEditorField","props","field","path","pathFromContext","setValue","value","promptEditorSuggestions","div","className","label","changeOnSelect","trigger","selected","onChange","val","options","description","admin"],"mappings":"AAAA;;AAIA,SAASA,gBAAgB,EAAEC,UAAU,EAAEC,QAAQ,QAAQ,iBAAgB;AACvE,OAAOC,WAAW,QAAO;AAEzB,SAASC,qBAAqB,QAAQ,uDAAsD;AAC5F,SAASC,eAAe,QAAQ,0DAAyD;AAEzF,yGAAyG;AACzG,OAAO,MAAMC,oBAAwD,CAACC;IACpE,MAAM,EAAEC,KAAK,EAAEC,MAAMC,eAAe,EAAE,GAAGH;IAEzC,MAAM,EAAEI,QAAQ,EAAEC,KAAK,EAAE,GAAGV,SAAiB;QAC3CO,MAAMC;IACR;IAEA,MAAM,EAAEG,uBAAuB,EAAE,GAAGR;IAEpC,qBACE,MAACS;QAAIC,WAAU;;0BACb,KAACd;gBAAWe,OAAOR,MAAMQ,KAAK;;0BAC9B,KAACZ;gBACCa,gBAAgB,CAACC,SAASC;oBACxB,OAAOD,UAAUC,WAAW;gBAC9B;gBACAC,UAAU,CAACC;oBACTV,SAASU;gBACX;gBACAC,SAAST;gBACTK,SAAS;oBAAC;iBAAM;gBAChBN,OAAOA;;0BAET,KAACZ;gBAAiBuB,aAAaf,OAAOgB,OAAOD;gBAAad,MAAK;;;;AAGrE,EAAC"}